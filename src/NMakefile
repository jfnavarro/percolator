.cpp.obj: 
	cl /I . /I ArrayLibrary /I MSToolkit /I MSToolkit/RAMP /I MSToolkit/zLib /c /DWIN32 /DHAVE_CONFIG_H /EHsc /D_POSIX_SOURCE /D_POSIX_C_SOURCE /D_NOSQLITE /MT /O2 /Fo$@ $< 

.c.obj: 
	cl /I . /I ArrayLibrary /I MSToolkit /I MSToolkit/RAMP /I MSToolkit/SQLite /I MSToolkit/zLib /c /DWIN32 /DHAVE_CONFIG_H /D_POSIX_SOURCE /D_POSIX_C_SOURCE /D_NOSQLITE /MT /O2 /Fo$@ $< 

array_library_files = \
	ArrayLibrary/MatrixFunctions.cpp \
	ArrayLibrary/Numerical.cpp \
	ArrayLibrary/OrderedArray.cpp \
	ArrayLibrary/PackedMatrix.cpp \
	ArrayLibrary/PackedSetFunctions.cpp \
	ArrayLibrary/PackedVec.cpp \
	ArrayLibrary/Random.cpp \
	ArrayLibrary/VectorFunctions.cpp \

per_source_files = \
	BaseSpline.cpp \
	Caller.cpp \
	DataSet.cpp \
	DescriptionOfCorrect.cpp \
	Enzyme.cpp \
	FeatureNames.cpp \
	Globals.cpp \
	LogisticRegression.cpp \
	main.cpp \
	MassHandler.cpp \
	Normalizer.cpp \
	Option.cpp \
	PercolatorCInterface.cpp \
	PosteriorEstimator.cpp \
	PSMDescription.cpp \
	ResultHolder.cpp \
	SanityCheck.cpp \
	Scores.cpp \
	SetHandler.cpp \
	SqtSanityCheck.cpp \
	StdvNormalizer.cpp \
	UniNormalizer.cpp \
	svm.cpp \
	ssl.cpp \

qval_source_files = \
	BaseSpline.cpp \
	Globals.cpp \
	LogisticRegression.cpp \
	Option.cpp \
	qvality_main.cpp \
	PosteriorEstimator.cpp

toolkit_cpp_files = \
  MSToolkit/MSObject.cpp \
  MSToolkit/MSReader.cpp \
  MSToolkit/RAMP/ramp_base64.cpp \
  MSToolkit/RAMP/ramp.cpp \
  MSToolkit/Spectrum.cpp \

toolkit_c_files = \
  MSToolkit/zLib/adler32.c \
  MSToolkit/zLib/compress.c \
  MSToolkit/zLib/crc32.c \
  MSToolkit/zLib/deflate.c \
  MSToolkit/zLib/gzio.c \
  MSToolkit/zLib/infback.c \
  MSToolkit/zLib/inffast.c \
  MSToolkit/zLib/inflate.c \
  MSToolkit/zLib/inftrees.c \
  MSToolkit/zLib/trees.c \
  MSToolkit/zLib/uncompr.c \
  MSToolkit/zLib/zutil.c \

default: percolator.exe qvality.exe

percolator.exe: $(per_source_files:.cpp=.obj) $(array_library_files:.cpp=.obj) $(toolkit_cpp_files:.cpp=.obj) $(toolkit_c_files:.c=.obj)
	link /OUT:percolator.exe $**

qvality.exe: $(qval_source_files:.cpp=.obj) $(array_library_files:.cpp=.obj) $(toolkit_files:.cpp=.obj)
	link /OUT:qvality.exe $**

clean:
	del qvality.exe percolator.exe
	del /S *.obj

